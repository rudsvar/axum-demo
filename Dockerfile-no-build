FROM debian:buster-slim

# Install dependencies
RUN apt-get update
RUN apt-get install -y libssl-dev

# Copy prebuilt resources
COPY target/release/axum-demo .
COPY target/doc/axum_demo doc
COPY config.toml .

# Set environment variables
ENV RUST_LOG info,axum_web_demo=debug,sqlx=off

ENTRYPOINT ["./axum-demo"]
